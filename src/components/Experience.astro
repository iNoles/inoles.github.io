---
import Section from './Section.astro';
import ExperienceItem from './ExperienceItem.astro';
import { t } from '../utils/i18n.ts';

interface Experience {
  name: string;
  date: string;
  bullets: string[];
  description: string;
  link?: string;
}

// Pull data from JSON via t()
const sectionTitle = t('experiences.title');
const experiences = t('experiences.history') as Experience[];
---

<Section title={sectionTitle}>
  {experiences.map((experience: Experience) => (
    <ExperienceItem
      name={experience.name}
      date={experience.date}
      bullets={experience.bullets}
      description={experience.description}
      link={experience.link}
  />
  ))}
</Section>
