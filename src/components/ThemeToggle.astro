<div
  id="theme-toggle"
  class="cursor-pointer select-none p-1 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"
  aria-label="Toggle theme"
>
  <svg viewBox="0 0 24 24" class="w-5 h-5 transition-transform duration-300">
    <!-- left half -->
    <path
      d="M12 2a10 10 0 0 0 0 20z"
      class="fill-white dark:fill-black"
    />
    <!-- right half -->
    <path
      d="M12 2a10 10 0 0 1 0 20z"
      class="fill-black dark:fill-white"
    />
    <!-- outline -->
    <circle
      cx="12"
      cy="12"
      r="10"
      fill="none"
      class="stroke-gray-700 dark:stroke-gray-200"
      stroke-width="1"
    />
  </svg>
</div>

<script is:inline>
const toggle = document.getElementById('theme-toggle');
const root = document.documentElement;

// Track manual toggle in memory
let isDark = false;

// Optional: system preference
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
isDark = prefersDark;

// Apply initial theme
root.classList.toggle('dark', isDark);

toggle?.addEventListener('click', () => {
  isDark = !isDark;
  root.classList.toggle('dark', isDark);
});
</script>
